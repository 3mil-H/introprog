%!TEX encoding = UTF-8 Unicode
%!TEX root = ../compendium2.tex

\Lab{\LabWeekELEVEN}

\begin{Goals}
\item Förstå skillnaden mellan primitiva typer och objekt i Java.
\item Kunna förklara hur autoboxing fungerar i Java.
\item Kunna förklara vad statiska metoder och attribut i Java innebär.
\item Kunna använda \code{ArrayList} och \code{Array} i Java.
\item Kunna använda \code{Scanner} i Java.
\item Kunna skapa en for-sats i Java.
\item Känna till hur man kan förenkla användningen av Java-kod från Scala med hjälp av \code{scala.collection.JavaConverters}.
\end{Goals}

\begin{Preparations}
\item \DoExercise{\ExeWeekELEVEN}{11}
\item Studera given kod här: \url{https://github.com/lunduniversity/introprog/tree/master/workspace/w11_javatext/}
\end{Preparations}

\subsection{Krav}
Du ska skapa ett textspel för terminalen som är (lagom) intressant/roligt att spela, sparar poäng per spelomgång för olika spelare och mäter tiden. Ditt textspel ska köras i terminalen och uppfylla följande krav och riktlinjer:

\begin{enumerate}
  \item När ditt program kör ska man ska kunna starta flera spelomgångar efter varandra utan att programmet ska behöva avslutas.
  \item För varje spelomgång ska spelarens namn\footnote{eller spelar\emph{nas} namn om det är ett spel för två eller flera personer} sparas i en textfil med tillhörande resultat.
  \item Efter varje spelomgång ska en topplista med bästa poäng visas, och efter begäran ska samtliga spelresultat för en viss spelare visas.
  \item Speltiden för varje spelomgång ska mätas och sparas tillsammans med poängresultatet för respektive spelare. Poängen för varje spelomgång ska på något sätt bero av speltiden.
  \item Ditt spel ska i Java-kod använda minst en av datastrukturerna
  \code{ArrayList},
  \code{HashSet},
  \code{HashMap} ur paketet \code{java.util}, samt minst en array i Java-kod.
  \item Ditt spel ska huvudsakligen (minst ca 80\% av kodraderna) vara skrivet i Java, men några delar \emph{ska} vara i Scala enligt följande riktlinjer:
  \begin{enumerate}
    \item Huvudprogrammet ska vara i Scala och \code{main} ska vara litet, max 10 rader.
    \item Skrivning till textfil ska ske via Scala, och inläsning från textfil ska ske med hjälp av \code{java.util.Scanner} i Scala-kod (du ska alltså för träningens skull utgå från JDK-dokumentationen av \code{java.util.Scanner} och \emph{inte} använda \code{scala.io.Source}).
    \item Du ska samla all filhantering i ett Scala-singelobjekt med namnet \code{Disk}.
    \item I någon del av Scala-koden i ditt program ska du
använda omvandlingsmetoderna \code{asScala} och \code{asJava} efter \code{import scala.collection.JavaConverters._} för att omvandla mellan \code{java.util.ArrayList} och lämpliga samlingar i Scalas standardbibliotek.
  \end{enumerate}
  \item Du ska spela någon annans halvfärdiga spel och, efter att du studerat koden, ge återkoppling på kodens läsbarhet.
  \item Du ska låta någon annan spela ditt halvfärdiga spel och visa din kod och fråga om återkoppling på läsbarheten. Du ska anteckna den återkoppling du får.
  \item Du ska inför redovisningen förbereda följande:
  \begin{enumerate}
    \item en kort genomgång av spelets idé,
    \item en kort förklaring av kodens struktur och de olika Java-klassernas ansvar,
    \item en kort redogörelse för den återkoppling du fått på din kods läsbarhet och hur du arbetat med att förbättra läsbarheten under dina stegvisa utvidgningar av din kod,
    \item en lista med koncept som du tränat på när du skapat ditt textspel.
  \end{enumerate}
\end{enumerate}

\subsection{Inspiration och tips}

\begin{enumerate}
  \item Utgå från Hangman i veckans övning eller,
  \item Yatzy från tidigare övningar, eller
  \item skapa ett kortspel inspirerat av \code{shuffle}-labben, eller
  \item inspireras av listan med sällskapsspel på wikipedia:\\ \href{https://sv.wikipedia.org/wiki/Kategori:Sällskapsspel}{sv.wikipedia.org/wiki/Kategori:Sällskapsspel}
  \item eller hitta på ett eget textspel.
  \item Börja med en starkt förenklad variant som du sedan bygger vidare på.
  \item Kompilera och testa efter varje ändring, så att du hela tiden har ett fungerande program.
  \item Det finns mycket information på nätet om hur man skriver Java-kod och använder JDK, t.ex. på \url{https://stackoverflow.com/}
  \item Träna på att använda JDK-dokumentationen här:\\ \url{https://docs.oracle.com/javase/8/docs/api/}
\end{enumerate}
